<%= render Polaris::Labelled::Component.new(**labelled_attrs) do %>
  <%= content_tag('div', content_tag_options) do %>
    <div
      class="Polaris-DropZone__Overlay Polaris-VisuallyHidden"
      data-polaris--dropzone-target="overlay"
    >
      <%= render Polaris::Stack::Component.new(vertical: true, spacing: "tight") do %>
        <%= render Polaris::Icon::Component.new(color: "primary") do %>
          <path d="M2 2h1V0H1.5A1.5 1.5 0 000 1.5V3h2V2zM5 2h3V0H5v2zM13 2h-3V0h3v2zM0 5v3h2V5H0zM0 10v3h2v-3H0zM18 5h-2v3h2V5zM5 18h3v-2H5v2zM0 17a1 1 0 001 1h2v-2H2v-1H0v2zM16 3V2h-1V0h1.5A1.5 1.5 0 0118 1.5V3h-2z" />

          <path d="M10.814 14H5.5A1.5 1.5 0 014 12.5v-7A1.5 1.5 0 015.5 4h7A1.5 1.5 0 0114 5.5v5.314l5.512 2.506a.832.832 0 01.028 1.501l-2.898 1.45a.832.832 0 00-.372.371l-1.449 2.898a.832.832 0 01-1.501-.028L10.814 14zm-.909-2l-.828-1.821c-.318-.7.402-1.42 1.102-1.102L12 9.905V6H6v6h3.905z" />
        <% end %>

        <%= render Polaris::DisplayText::Component.new(size: "small") do %>
          <%= @overlay_text %>
        <% end %>
      <% end %>
    </div>

    <div class="Polaris-DropZone__Container" data-polaris--dropzone-target="container">
      <div class="Polaris-DropZone-FileUpload" data-polaris--dropzone-target="fileUpload">
        <%= render Polaris::Stack::Component.new(vertical: true) do %>
          <img width="40" src="data:image/svg+xml,%3csvg fill='none' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M20 10a10 10 0 11-20 0 10 10 0 0120 0zM5.3 8.3l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L11 7.4V15a1 1 0 11-2 0V7.4L6.7 9.7a1 1 0 01-1.4-1.4z' fill='%235C5F62'/%3e%3c/svg%3e" alt="">

          <div class="Polaris-DropZone-FileUpload__Button">Add file</div>

          <%= render Polaris::TextStyle::Component.new(variation: "subdued") do %>
            or drop files to upload
          <% end %>
        <% end %>
      </div>
    </div>

    <%= render Polaris::VisuallyHidden::Component.new do %>
      <%= @form.file_field(@attribute, input_attrs) %>
    <% end %>

    <template data-polaris--dropzone-target="itemsTemplate">
      <%= render Polaris::Stack::Component.new(vertical: true, sectioned: false, data: { 'rendered': '' }) do %>
        <span class="target"></span>
      <% end %>
    </template>

    <template data-polaris--dropzone-target="itemTemplate">
      <%= render Polaris::StackItem::Component.new do %>
        <%= render Polaris::Stack::Component.new(alignment: "center") do %>
          <%= render Polaris::Thumbnail::Component.new(alt: "", size: "small") %>

          <div class="content">
            <%= render Polaris::Caption::Component.new %>
          </div>
        <% end %>
      <% end %>
    </template>
  <% end %>
<% end %>
